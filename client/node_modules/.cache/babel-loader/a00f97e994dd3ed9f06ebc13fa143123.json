{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/harsh/Desktop/MERN-Stack-Projects/ECommerce-Website/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _taggedTemplateLiteral from\"C:/Users/harsh/Desktop/MERN-Stack-Projects/ECommerce-Website/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _defineProperty from\"C:/Users/harsh/Desktop/MERN-Stack-Projects/ECommerce-Website/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";var _templateObject,_templateObject2,_templateObject3;import _regeneratorRuntime from\"C:\\\\Users\\\\harsh\\\\Desktop\\\\MERN-Stack-Projects\\\\ECommerce-Website\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect}from'react';import{Box,Typography,Button,Grid,styled}from'@mui/material';import{useParams}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{addToCart,removeFromCart}from'../../redux/actions/cartActions';import TotalView from'./TotalView';import EmptyCart from'./EmptyCart';import CartItem from'./CartItem';import{post}from'../../utils/paytm';import{payUsingPaytm}from'../../service/api';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Component=styled(Grid)(function(_ref){var theme=_ref.theme;return _defineProperty({padding:'30px 135px',display:'flex'},theme.breakpoints.down('sm'),{padding:'15px 0'});});var LeftComponent=styled(Grid)(function(_ref3){var theme=_ref3.theme;return _defineProperty({paddingRight:15},theme.breakpoints.down('sm'),{marginBottom:15});});var Header=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    padding: 15px 24px;\\n    background: #fff;\\n\"])));var BottomWrapper=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    padding: 16px 22px;\\n    background: #fff;\\n    box-shadow: 0 -2px 10px 0 rgb(0 0 0 / 10%);\\n    border-top: 1px solid #f0f0f0;\\n\"])));var StyledButton=styled(Button)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: flex;\\n    margin-left: auto;\\n    background: #fb641b;\\n    color: #fff;\\n    border-radius: 2px;\\n    width: 250px;\\n    height: 51px;\\n\"])));var Cart=function Cart(){var cartDetails=useSelector(function(state){return state.cart;});var cartItems=cartDetails.cartItems;var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();useEffect(function(){if(cartItems&&id!==cartItems.id)dispatch(addToCart(id));},[dispatch,cartItems,id]);var removeItemFromCart=function removeItemFromCart(id){dispatch(removeFromCart(id));};var buyNow=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,information;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return payUsingPaytm({amount:500,email:'kunaltyagi@gmail.com'});case 2:response=_context.sent;information={action:'https://securegw-stage.paytm.in/order/process',params:response};post(information);case 5:case\"end\":return _context.stop();}}},_callee);}));return function buyNow(){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:cartItems.length?/*#__PURE__*/_jsxs(Component,{container:true,children:[/*#__PURE__*/_jsxs(LeftComponent,{item:true,lg:9,md:9,sm:12,xs:12,children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsxs(Typography,{style:{fontWeight:600,fontSize:18},children:[\"My Cart (\",cartItems===null||cartItems===void 0?void 0:cartItems.length,\")\"]})}),cartItems.map(function(item){return/*#__PURE__*/_jsx(CartItem,{item:item,removeItemFromCart:removeItemFromCart});}),/*#__PURE__*/_jsx(BottomWrapper,{children:/*#__PURE__*/_jsx(StyledButton,{onClick:function onClick(){return buyNow();},variant:\"contained\",children:\"Place Order\"})})]}),/*#__PURE__*/_jsx(Grid,{item:true,lg:3,md:3,sm:12,xs:12,children:/*#__PURE__*/_jsx(TotalView,{cartItems:cartItems})})]}):/*#__PURE__*/_jsx(EmptyCart,{})});};export default Cart;","map":{"version":3,"names":["useEffect","Box","Typography","Button","Grid","styled","useParams","useSelector","useDispatch","addToCart","removeFromCart","TotalView","EmptyCart","CartItem","post","payUsingPaytm","Component","theme","padding","display","breakpoints","down","LeftComponent","paddingRight","marginBottom","Header","BottomWrapper","StyledButton","Cart","cartDetails","state","cart","cartItems","id","dispatch","removeItemFromCart","buyNow","amount","email","response","information","action","params","length","fontWeight","fontSize","map","item"],"sources":["C:/Users/harsh/Desktop/MERN-Stack-Projects/ECommerce-Website/client/src/Components/Cart/Cart.jsx"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\nimport { Box, Typography, Button, Grid, styled } from '@mui/material';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { addToCart, removeFromCart } from '../../redux/actions/cartActions';\r\n\r\nimport TotalView from './TotalView';\r\nimport EmptyCart from './EmptyCart';\r\nimport CartItem from './CartItem';\r\n\r\nimport { post } from '../../utils/paytm';\r\nimport { payUsingPaytm } from '../../service/api';\r\n\r\nconst Component = styled(Grid)(({ theme }) => ({\r\n    padding: '30px 135px',\r\n    display: 'flex',\r\n    [theme.breakpoints.down('sm')]: {\r\n        padding: '15px 0'\r\n    }\r\n}));\r\n\r\nconst LeftComponent = styled(Grid)(({ theme }) => ({\r\n    paddingRight: 15,\r\n    [theme.breakpoints.down('sm')]: {\r\n        marginBottom: 15\r\n    }\r\n}));\r\n\r\nconst Header = styled(Box)`\r\n    padding: 15px 24px;\r\n    background: #fff;\r\n`;\r\n\r\nconst BottomWrapper = styled(Box)`\r\n    padding: 16px 22px;\r\n    background: #fff;\r\n    box-shadow: 0 -2px 10px 0 rgb(0 0 0 / 10%);\r\n    border-top: 1px solid #f0f0f0;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n    display: flex;\r\n    margin-left: auto;\r\n    background: #fb641b;\r\n    color: #fff;\r\n    border-radius: 2px;\r\n    width: 250px;\r\n    height: 51px;\r\n`;\r\n\r\nconst Cart = () => {\r\n    const cartDetails = useSelector(state => state.cart);\r\n    const { cartItems } = cartDetails;\r\n    const { id } = useParams();\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(() => {\r\n        if(cartItems && id !== cartItems.id)   \r\n            dispatch(addToCart(id));\r\n    }, [dispatch, cartItems, id]);\r\n\r\n    const removeItemFromCart = (id) => {\r\n        dispatch(removeFromCart(id));\r\n    }\r\n\r\n    const buyNow = async () => {\r\n        let response = await payUsingPaytm({ amount: 500, email: 'kunaltyagi@gmail.com'});\r\n        var information = {\r\n            action: 'https://securegw-stage.paytm.in/order/process',\r\n            params: response    \r\n        }\r\n        post(information);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        { cartItems.length ? \r\n            <Component container>\r\n                <LeftComponent item lg={9} md={9} sm={12} xs={12}>\r\n                    <Header>\r\n                        <Typography style={{fontWeight: 600, fontSize: 18}}>My Cart ({cartItems?.length})</Typography>\r\n                    </Header>\r\n                        {   cartItems.map(item => (\r\n                                <CartItem item={item} removeItemFromCart={removeItemFromCart}/>\r\n                            ))\r\n                        }\r\n                    <BottomWrapper>\r\n                        <StyledButton onClick={() => buyNow()} variant=\"contained\">Place Order</StyledButton>\r\n                    </BottomWrapper>\r\n                </LeftComponent>\r\n                <Grid item lg={3} md={3} sm={12} xs={12}>\r\n                    <TotalView cartItems={cartItems} />\r\n                </Grid>\r\n            </Component> : <EmptyCart />\r\n        }\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}